<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no"
    />
    <meta name="theme-color" content="#0e2a18" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="AURA" />
    <meta name="description" content="AURA: guida il respiro, l'umore e il diario con dati sempre locali." />
    <meta name="color-scheme" content="dark light" />

    <title>AURA 3.6.0 - Elfo nella Foresta</title>

    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="icons/icon-192.png" />
    <link rel="apple-touch-icon" href="icons/icon-192.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;600;700&family=Manrope:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="css/main.css" />
  </head>

  <body>
    <div id="app">
      <div class="sky">
        <div class="mist"></div>
        <div class="stars" id="stars"></div>
        <div class="forest">
          <div class="treeLine"></div>
        </div>
      </div>
      <div class="particles" id="particles"></div>

      <div id="main-ui" class="hidden">
        <header class="top">
          <div class="brand">
            <div class="logo">
              <span>A</span>
            </div>
            <div class="titleWrap">
              <div class="appTitle">AURA</div>
              <div class="appSub">Elfo nella foresta</div>
            </div>
          </div>
          <div class="topBtns">
            <button id="btnStats" class="iconBtn" title="Statistiche" aria-label="Statistiche">Statistiche</button>
            <button id="btnAudio" class="iconBtn" title="Audio" aria-label="Audio">Audio</button>
            <button id="btnSettings" class="iconBtn" title="Impostazioni" aria-label="Impostazioni">Impostazioni</button>
          </div>
        </header>

        <main class="main">
          <section class="hero">
            <div class="heroTop">
              <div class="time" id="heroTime">-</div>
              <div class="streak" id="streakBadge">
                <span class="streakLabel">Serie</span>
                <span id="streakCount">0</span>
              </div>
            </div>

            <div class="heroBody">
              <div class="welcome">
                <div class="welcomeTitle">Ciao, <span id="userName">amico</span></div>
                <div class="welcomeSub" id="welcomeSub">Respira piano, un passo alla volta.</div>
              </div>
              <div class="scene">
                <div class="elfWrap" id="elfWrap">
                  <div class="glow"></div>
                  <div class="elf">
                    <div class="hat"></div>
                    <div class="face">
                      <div class="ear l"></div>
                      <div class="ear r"></div>
                      <div class="eyes">
                        <div class="eye"></div>
                        <div class="eye"></div>
                      </div>
                      <div class="mouth"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="statusRow">
              <div class="statusCard">
                <div class="statusLabel">Umore oggi</div>
                <div class="statusValue" id="todayMoodLabel">Non registrato</div>
              </div>
              <div class="statusCard">
                <div class="statusLabel">Energia</div>
                <div class="statusValue" id="todayEnergy">-</div>
              </div>
              <div class="statusCard">
                <div class="statusLabel">Diario</div>
                <div class="statusValue" id="todayJournal">Vuoto</div>
              </div>
            </div>

            <div class="hint" id="hint">Tocca l'elfo per un consiglio</div>
          </section>

          <div class="actionGrid">
            <button id="bMood" class="actionBtn">
              <span class="btnLabel">Umore</span>
              <span class="btnSub">Check-in rapido</span>
            </button>
            <button id="bBreath" class="actionBtn">
              <span class="btnLabel">Respiro</span>
              <span class="btnSub">Ciclo 4-2-6</span>
            </button>
            <button id="bAdvice" class="actionBtn">
              <span class="btnLabel">Consiglio</span>
              <span class="btnSub">Una cosa semplice</span>
            </button>
            <button id="bJournal" class="actionBtn">
              <span class="btnLabel">Diario</span>
              <span class="btnSub">Scrittura libera</span>
            </button>
          </div>

          <div class="actionGrid">
            <button id="bJourney" class="actionBtn">
              <span class="btnLabel">Percorso</span>
              <span class="btnSub">I tuoi passi</span>
            </button>
            <button id="bHelp" class="actionBtn">
              <span class="btnLabel">Guida</span>
              <span class="btnSub">Mini demo</span>
            </button>
            <button id="btnLock" class="actionBtn actionBtn--wide">
              <span class="btnLabel">Blocco</span>
              <span class="btnSub" id="lockStatus">Disattivato</span>
            </button>
          </div>
        </main>

        <section id="audioPanel" class="audioPanel" aria-label="Pannello audio">
          <div class="panelTop">
            <div>
              <div class="panelTitle">Ambiente sonoro</div>
              <div class="panelSub" id="audioStatus">Pronto</div>
            </div>
            <div class="panelActions">
              <button id="audioToggle" class="panelBtn">Avvia</button>
              <button id="audioClose" class="panelBtn">Chiudi</button>
            </div>
          </div>
          <div class="panelBody">
            <select id="audioEnv" aria-label="Seleziona ambiente">
              <option value="forest">Foresta</option>
              <option value="rain">Pioggia lieve</option>
              <option value="river">Ruscello</option>
              <option value="night">Notte stellata</option>
              <option value="ocean">Oceano lento</option>
              <option value="thunderstorm">Temporale distante</option>
              <option value="mountain">Alta quota</option>
              <option value="insects">Notte estiva</option>
            </select>
            <div class="panelRow">
              <label class="panelLabel">Volume</label>
              <input id="audioVol" type="range" min="5" max="100" value="40" />
              <span id="volLbl" class="panelValue">40%</span>
            </div>
          </div>
        </section>
      </div>

      <div id="auth" class="full" style="display: none">
        <div class="center">
          <div class="symbol">A</div>
          <div class="bigTitle serif">AURA</div>
          <div class="bigSub">
            Accesso locale (senza server). Registrati sul dispositivo o usa la modalita&apos; ospite.
          </div>
          <div class="card" style="width: 100%; max-width: 360px; margin-top: 16px">
            <div class="k">Account locale</div>
            <div class="tabRow">
              <button id="authTabLogin" class="ghost" style="flex: 1">Accedi</button>
              <button id="authTabReg" class="ghost" style="flex: 1">Registrati</button>
            </div>
            <div style="margin-top: 12px">
              <input id="authUser" type="text" placeholder="Email o username" autocomplete="username" maxlength="48" />
            </div>
            <div style="margin-top: 10px">
              <input id="authPass" type="password" placeholder="Password" autocomplete="current-password" maxlength="64" />
            </div>
            <div id="authExtra" style="margin-top: 10px; display: none">
              <input id="authPass2" type="password" placeholder="Ripeti password" autocomplete="new-password" maxlength="64" />
            </div>
            <div class="hint" id="authHint" style="margin-top: 10px">Suggerimento: tutto resta in locale.</div>
            <div style="display: flex; gap: 10px; margin-top: 12px">
              <button id="authGo" class="primary" style="flex: 1">Continua</button>
              <button id="authGuest" class="ghost" style="flex: 1">Ospite</button>
            </div>
          </div>
        </div>
      </div>

      <div id="intro" class="full" style="display: none">
        <div class="center">
          <div class="symbol">A</div>
          <div class="bigTitle serif">Benvenuto in AURA</div>
          <div class="bigSub">
            Un elfo guida il tuo respiro nella foresta. Registra il tuo umore, ricevi consigli e proteggi i tuoi pensieri:
            <b>tutto resta sul telefono</b>.
          </div>
          <div style="width: 100%; max-width: 340px; margin-top: 16px">
            <input id="nameInput" type="text" placeholder="Come ti chiami?" maxlength="24" />
          </div>
          <div style="width: 100%; max-width: 340px; margin-top: 10px">
            <input id="pinInput" type="password" placeholder="PIN (opzionale)" inputmode="numeric" maxlength="8" />
            <div class="hint">Cifratura AES-GCM se abiliti il PIN.</div>
          </div>
          <div style="display: flex; gap: 10px; width: 100%; max-width: 340px; margin-top: 16px">
            <button id="introStart" class="primary" style="flex: 1">Inizia</button>
            <button id="introSkip" class="ghost" style="flex: 1">Salta</button>
          </div>
        </div>
      </div>

      <div id="lock" class="full" style="display: none">
        <div class="center">
          <div class="symbol">A</div>
          <div class="bigTitle serif">Sblocco</div>
          <div class="bigSub">Inserisci il PIN per accedere ai contenuti protetti.</div>
          <div style="width: 100%; max-width: 300px; margin-top: 16px">
            <input id="unlockPin" type="password" placeholder="PIN" inputmode="numeric" maxlength="8" />
            <div id="lockHint" class="hint">I dati restano locali.</div>
          </div>
          <div style="display: flex; gap: 10px; width: 100%; max-width: 300px">
            <button id="unlockBtn" class="primary" style="flex: 1">Sblocca</button>
          </div>
        </div>
      </div>

      <div id="modal" class="overlay" role="dialog" aria-modal="true" style="display: none">
        <div class="sheet">
          <div class="sheetHandle"></div>
          <h2 id="mTitle" style="margin: 0 0 12px 0; font-size: 18px">-</h2>
          <div id="mBody" class="hint">-</div>
          <div id="mContent"></div>
          <div class="sheetActions">
            <button id="mOk" class="primary" style="flex: 1">Ok</button>
            <button id="mCancel" class="ghost" style="flex: 1">Chiudi</button>
          </div>
        </div>
      </div>
    </div>

    <script src="js/app.js"></script>
  </body>
</html>
